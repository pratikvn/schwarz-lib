<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>schwz: Benchmarking.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">schwz
   &#160;<span id="projectnumber">Generated automatically from master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Benchmarking. </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The flag <code>-DSCHWARZ_BUILD_BENCHMARKING</code> (default <code>ON</code>) enables the examples and benchmarking snippets.</p>
<p>If <code>schwarz-lib</code> has been built with <code>deal.ii</code>, then the <code>deal.ii</code> examples, <code>ex_6</code> and <code>ex_9</code> are also built, else only the <code>bench_ras</code> example is built. The following command line options are available for this example. This is setup using <code>gflags</code>.</p>
<p>The executable is run in the following fashion:</p>
<div class="fragment"><div class="line">[MPI_COMMAND] [MPI_OPTIONS] PATH_TO_EXECUTABLE [FLAGS]</div></div><!-- fragment --><p>Where <code>FLAGS</code> are the options below with the template <code>flag_name [type][default_value]</code>. For example, to set the number of iterations of the RAS solver to 100 one would add <code>--num_iters=100</code> to the executable command above.</p>
<h3>Generic settings</h3>
<ul>
<li><code>executor</code> [std::string][reference] : The executor used to run the solver, one of <code>reference</code>, <code>cuda</code> or <code>omp</code>.</li>
<li><code>explicit_laplacian</code> [bool][false] : Use the explicit laplacian instead of deal.ii's matrix.</li>
<li><code>set_1d_laplacian_size</code>[uint32][16] : The number of grid points in one dimension for the 2D laplacian problem.</li>
<li><code>enable_random_rhs</code> [bool][false] : Use a random rhs instead of the default 1.0's .</li>
<li><code>overlap</code> [uint32][2] : Overlap between the domains.</li>
<li><code>timings_file</code> [std::string][null] : The filename for the timings.</li>
<li><code>partition</code> [std::string][regular] : The partitioner used. The choices are <code>metis</code>, <code>regular</code> or <code>regular2d</code>.</li>
<li><code>metis_objtype</code> [std::string][null] : The objective type to minimize for the metis partitioner. The choices are <code>edgecut</code> and <code>totalvol</code>.</li>
<li><code>num_threads</code> [uint32][1] : Number of threads to bind to a process.</li>
<li><code>non_symmetric_matrix</code> [bool][false] : Explicitly state that the matrix is non-symmetric so that the local GMRES solver is used.</li>
<li><code>use_mixed_precision</code> [bool][false] : Use mixed precision in the communication.</li>
</ul>
<h3>Input settings</h3>
<ul>
<li><code>matrix_filename</code> [std::string][null] : The matrix file to read the global system matrix from.</li>
</ul>
<h3>Output settings</h3>
<ul>
<li><code>enable_debug_write</code> [bool][false] : Enable some debugging outputs to stdout.</li>
<li><code>write_comm_data</code> [bool][false] : Write the number of sends and recvs of each subdomain to files.</li>
<li><code>write_perm_data</code> [bool][false] : Write the permutation data from CHOLMOD to a file.</li>
<li><code>print_config</code> [bool][true] : Print the configuration of the run.</li>
<li><code>print_matrices</code> [bool][false] : Print the local system matrices to a file.</li>
<li><code>debug</code> [bool][false] : Enable some possible expensive debug checks.</li>
<li><code>enable_logging</code> [bool][false] : Enable some possible expensive logging from Ginkgo.</li>
</ul>
<h3>Solver settings</h3>
<h4>Generic settings</h4>
<ul>
<li><code>num_iters</code> [uint32][100] : The number of outer iterations for the RAS solver.</li>
<li><code>set_tol</code> [double][1e-6] : The Outer tolerance for the RAS solver.</li>
<li><code>local_tol</code> [double][1e-12] : The Inner tolerance for the local iterative solver. <h4>Communication settings</h4>
</li>
</ul>
<ul>
<li><code>enable_onesided</code> [bool][false] : Enable the onesided asynchronous communication.</li>
<li><code>enable_twosided</code> [bool][true] : Enable the twosided asynchronous communication. A dummy flag.</li>
<li><code>enable_one_by_one</code> [bool][false] : Enable putting/getting of each element in onesided communication.</li>
<li><code>enable_put_all_local_residual_norms</code> [bool][false] : Enable putting of all local residual norms"</li>
<li><code>enable_comm_overlap</code> [bool][false] : Enable overlap of communication and computation.</li>
<li><code>flush_type</code> [std::string][flush-all] : The window flush strategy. The choices are <code>flush-local</code> and <code>flush-all</code>.</li>
<li><code>lock_type</code> [std::string][lock-all] : The window lock strategy. The choices are <code>lock-local</code> and <code>lock-all</code>.</li>
<li><code>remote_comm_type</code> [std::string][get] : The type of the remote communication. <code>get</code> uses <code>MPI_Get</code> and <code>put</code> uses <code>MPI_Put</code>.</li>
</ul>
<h4>Convergence settings</h4>
<ul>
<li><code>enable_global_check</code> [bool][false] : Use the global convergence check for twosided.</li>
<li><code>global_convergence_type</code> [std::string][centralized-tree] : Choose the convergence detection algorithm for onesided.</li>
<li><code>enable_decentralized_accumulate</code> [bool][false] : Use accumulate strategy for decentralized convergence check..</li>
<li><code>enable_global_check_iter_offset</code> [bool][false] : Enable global convergence check only after a certain number of iterations.</li>
</ul>
<h4>Local solver settings</h4>
<ul>
<li><code>local_solver</code> [std::string][iterative-ginkgo] : The local solver used in the local domains. The current choices are <code>direct-cholmod</code> , <code>direct-ginkgo</code> or <code>iterative-ginkgo</code>.</li>
<li><code>local_factorization</code> [std::string][cholmod] : The factorization for the local direct solver "cholmod" or "umfpack".</li>
<li><code>local_reordering</code> [std::string][none] : The reordering for the local direct solver "none", "metis_reordering" or "rcm_reordering".</li>
<li><code>factor_ordering_natural</code> [bool][false] : If true uses natural ordering instead of the default optimized ordering. This is needed for CUDA runs as the factorization ordering needs to be given to the solver.</li>
<li><code>enable_local_precond</code> [bool][false] : If true uses the Block jacobi preconditioning for the local iterative solver.</li>
<li><code>precond_max_block_size</code> [uint32][16]: Maximum size of the blocks for the block jacobi preconditioner</li>
<li><code>shifted_iter</code> [uint32][1] : The number of iterations to communicate for the local subdomains.</li>
<li><code>local_max_iters</code> [int32][-1] : The maximum number of iterations for the local iterative solver.</li>
<li><code>restart_iter</code> [uint32][1] : The restart iter for the GMRES solver.</li>
<li><code>reset_local_crit_iter</code> [int32][-1] : The RAS iteration to reset the local iteration count.</li>
</ul>
<h3>Poisson solver using Restricted Additive Schwarz with overlap.</h3>
<p>This example runs is written within the <code>benchmarking/bench_ras.cpp</code> file. This demonstrates the basic capabilities of <code>schwarz-lib</code>. You can use it to solve the 2D Poisson equation with a 5 point stencil or solve a generic matrix by providing it a matrix file.</p>
<h3>Examples with deal.ii</h3>
<p>These examples use <code>deal.ii</code>'s capabilities to generate a matrix and solution is computed with the RAS method.</p>
<p>Possible settings are:</p>
<ul>
<li><code>num_refine_cycles</code> [uint32][1][disabled] : The number of refinement cycles when used with <code>deal.ii</code>.</li>
<li><code>init_refine_level</code> [uint32][4] : The initial refinement level of the problem. This sets the initial number of dof's.</li>
<li><code>dealii_orig</code> [bool][false] : Solve with the deal.ii iterative CG instead of the RAS solver.</li>
<li><code>vis_sol</code> [bool][false] : Print the solution for visualization.</li>
</ul>
<h4>Solving the n-dimensional Poisson equation with FEM.</h4>
<p>The <code>benchmarking/dealii_ex_6.cpp</code> demonstrates the solution of the Poisson equation with adaptive refinement as explained on the <a href="https://www.dealii.org/developer/doxygen/deal.II/step_6.html"><code>deal.ii example documentation page</code></a></p>
<h4>Solving the Advection equation with FEM.</h4>
<p>The <code>benchmarking/dealii_ex_9.cpp</code> demonstrates the solution of the Advection equation with adaptive refinement as explained on the <a href="https://www.dealii.org/developer/doxygen/deal.II/step_9.html"><code>deal.ii example documentation page</code></a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
